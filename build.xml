<?xml version="1.0"?>

<project basedir="." default="build" name="lv185">
	
	<property file="resources/build.properties"/>
    <property name="debuglevel" value="source,lines,vars"/>	
	
	
	<path id="external.jars">
		        <fileset dir="${lib.dir}" includes="**/*.jar"/>
	</path>
    
	<path id="build.classpath">
		<pathelement location="${src.dir}"/>
        <path refid="external.jars" />
		<fileset dir="${lib.dir}">
		    <include name="**/*.jar"/>
		    <include name="**/*.zip"/>
		</fileset>
    </path>
	
    <target name="clean">
    	<delete dir="${build.dir}"/>
    	<delete dir="${classpath.dir}"/>
    </target>
	
	
    <target depends="clean" name="init">
        <mkdir dir="${build.dir}"/>
    	<mkdir dir="${lib.dir}"/>
        <copy includeemptydirs="false" todir="${build.dir}">
            <fileset dir="${src.dir}">
                <exclude name="**/*.java"/>
            </fileset>
        </copy>    	
    </target>
	
    
    <target depends="init" name="build">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac debug="true" debuglevel="${debuglevel}" destdir="${build.dir}" includeantruntime="false" source="${source}" target="${target}">
            <src path="${src.dir}"/>
            <classpath refid="build.classpath"/>
        </javac>
    	<copy todir="${build.dir}">
    	</copy>
    </target>
   
    <target name="TestProfile">
        <java classname="edu.softserveinc.healthbody.testapp.TestProfile" failonerror="true" fork="yes">
            <classpath refid="build.classpath"/>
        </java>
    </target>
	
    <target name="TestDBCreationManager">
        <java classname="edu.softserveinc.healthbody.testapp.TestDBCreationManager" failonerror="false" fork="yes">
            <classpath refid="build.classpath"/>
        </java>
    </target>
	
</project>
